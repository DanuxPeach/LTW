{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\Hoc\\\\LTW\\\\Project\\\\LTW\\\\Frontend\\\\src\\\\pages\\\\Stream\\\\Video.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, useRef, useEffect, useLayoutEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport VideoPlayer from \"react-video-js-player\";\nimport \"./Video.css\";\nimport Header from \"../../components/header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Stream = () => {\n  _s();\n  var _videoDetails$, _videoDetails$2, _videoDetails$3, _videoDetails$4, _videoDetails$5, _videoDetails$6;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const videoUUID = searchParams.get(\"v\");\n  const [recommendList, setRecommendList] = useState([]);\n  const [videoDetails, setVideoDetails] = useState([]);\n  const [videoKey, setVideoKey] = useState(0);\n  const [comments, setComments] = useState([]);\n  const [likesCount, setLikesCount] = useState(0);\n  const [user, setUser] = useState(null);\n  const onVideoContainerClick = useCallback(uuid => {\n    navigate(`/video?v=${uuid}`);\n    setVideoKey(prevKey => prevKey + 1);\n  }, [navigate]);\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/video/comments/${videoUUID}`);\n        setComments(response.data);\n      } catch (error) {\n        console.error('Fetch comments error:', error);\n        setComments([]);\n      }\n    };\n    const fetchLikesCount = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/video/likes/${videoUUID}`);\n        setLikesCount(response.data.like_count);\n      } catch (error) {\n        console.error('Fetch likes count error:', error);\n        setLikesCount(0);\n      }\n    };\n    const fetchRecommendations = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/recommend/${videoUUID}`);\n        setRecommendList(response.data);\n        console.log('Response Recommend: ', response.data);\n      } catch (error) {\n        console.error('Error fetching recommendations:', error);\n      }\n    };\n    fetchComments();\n    fetchLikesCount();\n    fetchRecommendations();\n  }, [videoUUID]);\n  const handleLike = async () => {\n    if (!user) {\n      // Xử lý khi người dùng chưa đăng nhập\n      return;\n    }\n    try {\n      // Gửi request để thực hiện like video\n      await axios.post(`http://localhost:5000/video/like`, {\n        videoUUID,\n        userId: user.user_id\n      });\n      // Cập nhật số lượt like sau khi thực hiện like thành công\n      setLikesCount(prevCount => prevCount + 1);\n    } catch (error) {\n      console.error('Like video error:', error);\n    }\n  };\n  const handleComment = async commentText => {\n    if (!user) {\n      // Xử lý khi người dùng chưa đăng nhập\n      return;\n    }\n    try {\n      // Gửi request để thêm comment vào video\n      await axios.post(`http://localhost:5000/video/comment`, {\n        videoUUID,\n        userId: user.user_id,\n        commentText\n      });\n      // Lấy lại danh sách comments sau khi thêm comment thành công\n      const response = await axios.get(`http://localhost:5000/video/comments/${videoUUID}`);\n      setComments(response.data);\n    } catch (error) {\n      console.error('Add comment error:', error);\n    }\n  };\n  useLayoutEffect(() => {\n    const fetchVideoDetails = async () => {\n      const queryParams = new URLSearchParams(location.search);\n      const uuidQuery = queryParams.get('v');\n      if (uuidQuery) {\n        try {\n          // Make an API call using Axios with async/await\n          const response = await axios.get(`http://localhost:5000/videodetails?v=${uuidQuery}`);\n          setVideoDetails(response.data);\n          setVideoKey(prevKey => prevKey + 1);\n          console.log('API Response:', response.data);\n        } catch (error) {\n          console.error('Error fetching video details:', error);\n        }\n      } else {\n        console.error('UUID is missing in the query parameters');\n      }\n    };\n    fetchVideoDetails();\n  }, [location.search]);\n  const commentInputRef = useRef(null);\n  const handleEnterKey = event => {\n    if (event.key === 'Enter') {\n      const commentText = event.target.value.trim();\n      if (commentText !== '') {\n        handleComment(commentText);\n        event.target.value = ''; // Clear input field after adding comment\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user,\n      setUser: setUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-content\",\n      children: [console.log('Rendering with videoDetails:', (_videoDetails$ = videoDetails[0]) === null || _videoDetails$ === void 0 ? void 0 : _videoDetails$.thumbnail_url, (_videoDetails$2 = videoDetails[0]) === null || _videoDetails$2 === void 0 ? void 0 : _videoDetails$2.video_url), videoDetails.length > 0 && (_videoDetails$3 = videoDetails[0]) !== null && _videoDetails$3 !== void 0 && _videoDetails$3.thumbnail_url && (_videoDetails$4 = videoDetails[0]) !== null && _videoDetails$4 !== void 0 && _videoDetails$4.video_url ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(VideoPlayer, {\n          poster: `http://localhost:5000/${(_videoDetails$5 = videoDetails[0]) === null || _videoDetails$5 === void 0 ? void 0 : _videoDetails$5.thumbnail_url.replace(/\\\\/g, '/')}`,\n          src: `http://localhost:5000/${(_videoDetails$6 = videoDetails[0]) === null || _videoDetails$6 === void 0 ? void 0 : _videoDetails$6.video_url.replace(/\\\\/g, '/')}`\n        }, videoKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"like-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"like-button\",\n          onClick: handleLike,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/like.png\",\n            alt: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: likesCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Comments:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"comment\",\n              placeholder: \"Add a comment\",\n              ref: commentInputRef,\n              onKeyDown: handleEnterKey\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              textAlign: \"left\"\n            },\n            children: comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [comment.username, \": \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: comment.comment_text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-container\",\n      children: recommendList.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-item\",\n        onClick: () => onVideoContainerClick(video.video_uuid),\n        children: [console.log('Thumbnail URL:', `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumbnail-image\",\n          src: `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-title\",\n          children: video.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this)]\n      }, video.video_uuid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(Stream, \"bSjv14IVXG9bxJHUAOzMzlwVnb8=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Stream;\nexport default Stream;\nvar _c;\n$RefreshReg$(_c, \"Stream\");","map":{"version":3,"names":["React","useCallback","useState","useRef","useEffect","useLayoutEffect","useLocation","useNavigate","axios","VideoPlayer","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Stream","_s","_videoDetails$","_videoDetails$2","_videoDetails$3","_videoDetails$4","_videoDetails$5","_videoDetails$6","navigate","location","searchParams","URLSearchParams","search","videoUUID","get","recommendList","setRecommendList","videoDetails","setVideoDetails","videoKey","setVideoKey","comments","setComments","likesCount","setLikesCount","user","setUser","onVideoContainerClick","uuid","prevKey","fetchComments","response","data","error","console","fetchLikesCount","like_count","fetchRecommendations","log","handleLike","post","userId","user_id","prevCount","handleComment","commentText","fetchVideoDetails","queryParams","uuidQuery","commentInputRef","handleEnterKey","event","key","target","value","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","thumbnail_url","video_url","length","poster","replace","src","onClick","alt","type","placeholder","ref","onKeyDown","style","textAlign","map","comment","index","username","comment_text","video","video_uuid","title","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/Hoc/LTW/Project/LTW/Frontend/src/pages/Stream/Video.js"],"sourcesContent":["import React, { useCallback, useState , useRef, useEffect, useLayoutEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport VideoPlayer from \"react-video-js-player\"\r\nimport \"./Video.css\";\r\nimport Header from \"../../components/header/Header\";\r\n\r\nconst Stream = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const videoUUID = searchParams.get(\"v\");\r\n\r\n  const [recommendList, setRecommendList] = useState([]);\r\n  const [videoDetails, setVideoDetails] = useState([]);\r\n  const [videoKey, setVideoKey] = useState(0);\r\n\r\n  const [comments, setComments] = useState([]);\r\n  const [likesCount, setLikesCount] = useState(0);\r\n  const [user, setUser] = useState(null);\r\n\r\n  const onVideoContainerClick = useCallback((uuid) => {\r\n    navigate(`/video?v=${uuid}`);\r\n    setVideoKey((prevKey) => prevKey + 1);\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/video/comments/${videoUUID}`);\r\n        setComments(response.data);\r\n      } catch (error) {\r\n        console.error('Fetch comments error:', error);\r\n        setComments([]);\r\n      }\r\n    };\r\n\r\n    const fetchLikesCount = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/video/likes/${videoUUID}`);\r\n        setLikesCount(response.data.like_count);\r\n      } catch (error) {\r\n        console.error('Fetch likes count error:', error);\r\n        setLikesCount(0);\r\n      }\r\n    };\r\n    const fetchRecommendations = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/recommend/${videoUUID}`);\r\n        setRecommendList(response.data);\r\n        console.log('Response Recommend: ', response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching recommendations:', error);\r\n      }\r\n    };\r\n    fetchComments();\r\n    fetchLikesCount();\r\n    fetchRecommendations();\r\n  }, [videoUUID]);\r\n\r\n  const handleLike = async () => {\r\n    if (!user) {\r\n      // Xử lý khi người dùng chưa đăng nhập\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Gửi request để thực hiện like video\r\n      await axios.post(`http://localhost:5000/video/like`, { videoUUID, userId: user.user_id });\r\n      // Cập nhật số lượt like sau khi thực hiện like thành công\r\n      setLikesCount(prevCount => prevCount + 1);\r\n    } catch (error) {\r\n      console.error('Like video error:', error);\r\n    }\r\n  };\r\n\r\n  const handleComment = async (commentText) => {\r\n    if (!user) {\r\n      // Xử lý khi người dùng chưa đăng nhập\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Gửi request để thêm comment vào video\r\n      await axios.post(`http://localhost:5000/video/comment`, { videoUUID, userId: user.user_id, commentText });\r\n      // Lấy lại danh sách comments sau khi thêm comment thành công\r\n      const response = await axios.get(`http://localhost:5000/video/comments/${videoUUID}`);\r\n      setComments(response.data);\r\n    } catch (error) {\r\n      console.error('Add comment error:', error);\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const fetchVideoDetails = async () => {\r\n      const queryParams = new URLSearchParams(location.search);\r\n      const uuidQuery = queryParams.get('v');\r\n      if (uuidQuery) {\r\n        try {\r\n          // Make an API call using Axios with async/await\r\n          const response = await axios.get(`http://localhost:5000/videodetails?v=${uuidQuery}`);\r\n          setVideoDetails(response.data);\r\n          setVideoKey((prevKey) => prevKey + 1);\r\n          console.log('API Response:', response.data);\r\n        } catch (error) {\r\n          console.error('Error fetching video details:', error);\r\n        }\r\n      } else {\r\n        console.error('UUID is missing in the query parameters');\r\n      }\r\n    };\r\n\r\n    fetchVideoDetails();\r\n  },[location.search]);\r\n  \r\n  const commentInputRef = useRef(null);\r\n\r\n  const handleEnterKey = (event) => {\r\n    if (event.key === 'Enter') {\r\n      const commentText = event.target.value.trim();\r\n      if (commentText !== '') {\r\n        handleComment(commentText);\r\n        event.target.value = ''; // Clear input field after adding comment\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"video\">\r\n      <Header user={user} setUser={setUser} />\r\n      <div className=\"video-content\">\r\n        {console.log('Rendering with videoDetails:', videoDetails[0]?.thumbnail_url, videoDetails[0]?.video_url)}\r\n        {videoDetails.length > 0 && videoDetails[0]?.thumbnail_url && videoDetails[0]?.video_url ?(\r\n            <>\r\n              <VideoPlayer\r\n                key={videoKey}\r\n                poster={`http://localhost:5000/${videoDetails[0]?.thumbnail_url.replace(/\\\\/g, '/')}`}\r\n                src={`http://localhost:5000/${videoDetails[0]?.video_url.replace(/\\\\/g, '/')}`}\r\n              />\r\n            </>\r\n          ) : (\r\n            <p>Loading...</p>\r\n          )}\r\n      </div>\r\n      <div className=\"video-actions\">\r\n        <div className=\"like-container\">\r\n          <button className=\"like-button\" onClick={handleLike}>\r\n            <img src=\"/like.png\" alt=\"Like\" />\r\n          </button>\r\n          <span>{likesCount}</span>\r\n        </div>\r\n        <div className=\"comment-container\">\r\n          <div className=\"comment-section\">\r\n            <h3>Comments:\r\n              <input\r\n                type=\"text\"\r\n                className=\"comment\"\r\n                placeholder=\"Add a comment\"\r\n                ref={commentInputRef}\r\n                onKeyDown={handleEnterKey}\r\n              />\r\n            </h3>\r\n            <ul style={{ textAlign:\"left\" }}>\r\n              {comments.map((comment, index) => (\r\n                <li key={index} >\r\n                  <span>{comment.username}: </span>\r\n                  <span>{comment.comment_text}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"recommendations-container\">\r\n        {recommendList.map((video) => (\r\n            <div className=\"video-item\" key={video.video_uuid} onClick={() => onVideoContainerClick(video.video_uuid)}>\r\n              {console.log('Thumbnail URL:', `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`)}\r\n              <img className=\"thumbnail-image\" src={`http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`} alt=\"\" />\r\n              <div className=\"video-title\">\r\n                {video.title}\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stream;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}