{"ast":null,"code":"var _jsxFileName = \"Z:\\\\Hoc\\\\LTW\\\\Project\\\\LTW\\\\Frontend\\\\src\\\\pages\\\\Stream\\\\Video.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState, useRef, useEffect, useLayoutEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport VideoPlayer from \"react-video-js-player\";\nimport \"./Video.css\";\nimport Header from \"../../components/header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Stream = () => {\n  _s();\n  var _videoDetails$, _videoDetails$2, _videoDetails$3, _videoDetails$4, _videoDetails$5, _videoDetails$6;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const videoUUID = searchParams.get(\"v\");\n  const [recommendList, setRecommendList] = useState([]);\n  const [videoDetails, setVideoDetails] = useState([]);\n  const [videoKey, setVideoKey] = useState(0);\n  const [comments, setComments] = useState([]);\n  const [likesCount, setLikesCount] = useState(0);\n  const [user, setUser] = useState(null);\n  const onVideoContainerClick = useCallback(uuid => {\n    navigate(`/video?v=${uuid}`);\n    setVideoKey(prevKey => prevKey + 1);\n  }, [navigate]);\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/video/comments/${videoUUID}`);\n        if (response.ok) {\n          const data = await response.json();\n          setComments(data);\n        } else {\n          console.error('Fetch comments error:', response.status);\n          setComments([]);\n        }\n      } catch (error) {\n        console.error('Fetch comments error:', error);\n        setComments([]);\n      }\n    };\n    const fetchLikesCount = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/video/likes/${videoUUID}`);\n        if (response.ok) {\n          const data = await response.json();\n          setLikesCount(data.like_count);\n        } else {\n          console.error('Fetch likes count error:', response.status);\n          setLikesCount(0);\n        }\n      } catch (error) {\n        console.error('Fetch likes count error:', error);\n        setLikesCount(0);\n      }\n    };\n    const fetchRecommendations = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/recommend/${videoUUID}`);\n        if (response.ok) {\n          const data = await response.json();\n          setRecommendList(data);\n          console.log('Response Recommend: ', data);\n        } else {\n          console.error('Error fetching recommendations:', response.status);\n        }\n      } catch (error) {\n        console.error('Error fetching recommendations:', error);\n      }\n    };\n    fetchComments();\n    fetchLikesCount();\n    fetchRecommendations();\n  }, [videoUUID]);\n  const handleLike = async () => {\n    if (!user) {\n      return;\n    }\n    try {\n      await fetch(`http://localhost:5000/video/like`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          videoUUID,\n          userId: user.user_id\n        })\n      });\n      setLikesCount(prevCount => prevCount + 1);\n    } catch (error) {\n      console.error('Like video error:', error);\n    }\n  };\n  const handleComment = async commentText => {\n    if (!user) {\n      return;\n    }\n    try {\n      await fetch(`http://localhost:5000/video/comment`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          videoUUID,\n          userId: user.user_id,\n          commentText\n        })\n      });\n      const response = await fetch(`http://localhost:5000/video/comments/${videoUUID}`);\n      if (response.ok) {\n        const data = await response.json();\n        setComments(data);\n      } else {\n        console.error('Error fetching comments:', response.status);\n      }\n    } catch (error) {\n      console.error('Add comment error:', error);\n    }\n  };\n  useLayoutEffect(() => {\n    const fetchVideoDetails = async () => {\n      const queryParams = new URLSearchParams(location.search);\n      const uuidQuery = queryParams.get('v');\n      if (uuidQuery) {\n        try {\n          const response = await axios.get(`http://localhost:5000/videodetails?v=${uuidQuery}`);\n          setVideoDetails(response.data);\n          setVideoKey(uuidQuery);\n          console.log('API Response:', response.data);\n        } catch (error) {\n          console.error('Error fetching video details:', error);\n        }\n      } else {\n        console.error('UUID is missing in the query parameters');\n      }\n    };\n    fetchVideoDetails();\n  }, [location.search]);\n  const commentInputRef = useRef(null);\n  const handleEnterKey = event => {\n    if (event.key === 'Enter') {\n      const commentText = event.target.value.trim();\n      if (commentText !== '') {\n        handleComment(commentText);\n        event.target.value = '';\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user,\n      setUser: setUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-content\",\n      children: [console.log('Rendering with videoDetails:', (_videoDetails$ = videoDetails[0]) === null || _videoDetails$ === void 0 ? void 0 : _videoDetails$.thumbnail_url, (_videoDetails$2 = videoDetails[0]) === null || _videoDetails$2 === void 0 ? void 0 : _videoDetails$2.video_url), videoDetails.length > 0 && (_videoDetails$3 = videoDetails[0]) !== null && _videoDetails$3 !== void 0 && _videoDetails$3.thumbnail_url && (_videoDetails$4 = videoDetails[0]) !== null && _videoDetails$4 !== void 0 && _videoDetails$4.video_url ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(VideoPlayer, {\n          poster: `http://localhost:5000/${(_videoDetails$5 = videoDetails[0]) === null || _videoDetails$5 === void 0 ? void 0 : _videoDetails$5.thumbnail_url.replace(/\\\\/g, '/')}`,\n          src: `http://localhost:5000/${(_videoDetails$6 = videoDetails[0]) === null || _videoDetails$6 === void 0 ? void 0 : _videoDetails$6.video_url.replace(/\\\\/g, '/')}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this)]\n    }, videoKey, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"like-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"like-button\",\n          onClick: handleLike,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/like.png\",\n            alt: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: likesCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Comments:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"comment\",\n              placeholder: \"Add a comment\",\n              ref: commentInputRef,\n              onKeyDown: handleEnterKey\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              textAlign: \"left\"\n            },\n            children: comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [comment.username, \": \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: comment.comment_text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-container\",\n      children: recommendList.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-item\",\n        onClick: () => onVideoContainerClick(video.video_uuid),\n        children: [console.log('Thumbnail URL:', `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"thumbnail-image\",\n          src: `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-title\",\n          children: video.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this)]\n      }, video.video_uuid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(Stream, \"bSjv14IVXG9bxJHUAOzMzlwVnb8=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Stream;\nexport default Stream;\nvar _c;\n$RefreshReg$(_c, \"Stream\");","map":{"version":3,"names":["React","useCallback","useState","useRef","useEffect","useLayoutEffect","useLocation","useNavigate","axios","VideoPlayer","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Stream","_s","_videoDetails$","_videoDetails$2","_videoDetails$3","_videoDetails$4","_videoDetails$5","_videoDetails$6","navigate","location","searchParams","URLSearchParams","search","videoUUID","get","recommendList","setRecommendList","videoDetails","setVideoDetails","videoKey","setVideoKey","comments","setComments","likesCount","setLikesCount","user","setUser","onVideoContainerClick","uuid","prevKey","fetchComments","response","fetch","ok","data","json","console","error","status","fetchLikesCount","like_count","fetchRecommendations","log","handleLike","method","headers","body","JSON","stringify","userId","user_id","prevCount","handleComment","commentText","fetchVideoDetails","queryParams","uuidQuery","commentInputRef","handleEnterKey","event","key","target","value","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","thumbnail_url","video_url","length","poster","replace","src","onClick","alt","type","placeholder","ref","onKeyDown","style","textAlign","map","comment","index","username","comment_text","video","video_uuid","title","_c","$RefreshReg$"],"sources":["Z:/Hoc/LTW/Project/LTW/Frontend/src/pages/Stream/Video.js"],"sourcesContent":["import React, { useCallback, useState , useRef, useEffect, useLayoutEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport VideoPlayer from \"react-video-js-player\"\r\nimport \"./Video.css\";\r\nimport Header from \"../../components/header/Header\";\r\n\r\nconst Stream = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const videoUUID = searchParams.get(\"v\");\r\n\r\n  const [recommendList, setRecommendList] = useState([]);\r\n  const [videoDetails, setVideoDetails] = useState([]);\r\n  const [videoKey, setVideoKey] = useState(0);\r\n\r\n  const [comments, setComments] = useState([]);\r\n  const [likesCount, setLikesCount] = useState(0);\r\n  const [user, setUser] = useState(null);\r\n\r\n  const onVideoContainerClick = useCallback((uuid) => {\r\n    navigate(`/video?v=${uuid}`);\r\n    setVideoKey((prevKey) => prevKey + 1);\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/video/comments/${videoUUID}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setComments(data);\r\n        } else {\r\n          console.error('Fetch comments error:', response.status);\r\n          setComments([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Fetch comments error:', error);\r\n        setComments([]);\r\n      }\r\n    };\r\n  \r\n    const fetchLikesCount = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/video/likes/${videoUUID}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setLikesCount(data.like_count);\r\n        } else {\r\n          console.error('Fetch likes count error:', response.status);\r\n          setLikesCount(0);\r\n        }\r\n      } catch (error) {\r\n        console.error('Fetch likes count error:', error);\r\n        setLikesCount(0);\r\n      }\r\n    };\r\n  \r\n    const fetchRecommendations = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/recommend/${videoUUID}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setRecommendList(data);\r\n          console.log('Response Recommend: ', data);\r\n        } else {\r\n          console.error('Error fetching recommendations:', response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching recommendations:', error);\r\n      }\r\n    };\r\n  \r\n    fetchComments();\r\n    fetchLikesCount();\r\n    fetchRecommendations();\r\n  }, [videoUUID]);\r\n\r\n  const handleLike = async () => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      await fetch(`http://localhost:5000/video/like`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ videoUUID, userId: user.user_id }),\r\n      });\r\n      setLikesCount(prevCount => prevCount + 1);\r\n    } catch (error) {\r\n      console.error('Like video error:', error);\r\n    }\r\n  };\r\n  \r\n  const handleComment = async (commentText) => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      await fetch(`http://localhost:5000/video/comment`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ videoUUID, userId: user.user_id, commentText }),\r\n      });\r\n      const response = await fetch(`http://localhost:5000/video/comments/${videoUUID}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setComments(data);\r\n      } else {\r\n        console.error('Error fetching comments:', response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error('Add comment error:', error);\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const fetchVideoDetails = async () => {\r\n      const queryParams = new URLSearchParams(location.search);\r\n      const uuidQuery = queryParams.get('v');\r\n      if (uuidQuery) {\r\n        try {\r\n          const response = await axios.get(`http://localhost:5000/videodetails?v=${uuidQuery}`);\r\n          setVideoDetails(response.data);\r\n          setVideoKey(uuidQuery);\r\n          console.log('API Response:', response.data);\r\n        } catch (error) {\r\n          console.error('Error fetching video details:', error);\r\n        }\r\n      } else {\r\n        console.error('UUID is missing in the query parameters');\r\n      }\r\n    };\r\n\r\n    fetchVideoDetails();\r\n  },[location.search]);\r\n  \r\n  const commentInputRef = useRef(null);\r\n\r\n  const handleEnterKey = (event) => {\r\n    if (event.key === 'Enter') {\r\n      const commentText = event.target.value.trim();\r\n      if (commentText !== '') {\r\n        handleComment(commentText);\r\n        event.target.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"video\">\r\n      <Header user={user} setUser={setUser} />\r\n      <div className=\"video-content\" key={videoKey}>\r\n        {console.log('Rendering with videoDetails:', videoDetails[0]?.thumbnail_url, videoDetails[0]?.video_url)}\r\n        {videoDetails.length > 0 && videoDetails[0]?.thumbnail_url && videoDetails[0]?.video_url ?(\r\n            <>\r\n              <VideoPlayer\r\n                poster={`http://localhost:5000/${videoDetails[0]?.thumbnail_url.replace(/\\\\/g, '/')}`}\r\n                src={`http://localhost:5000/${videoDetails[0]?.video_url.replace(/\\\\/g, '/')}`}\r\n              />\r\n            </>\r\n          ) : (\r\n            <p>Loading...</p>\r\n          )}\r\n      </div>\r\n      <div className=\"video-actions\">\r\n        <div className=\"like-container\">\r\n          <button className=\"like-button\" onClick={handleLike}>\r\n            <img src=\"/like.png\" alt=\"Like\" />\r\n          </button>\r\n          <span>{likesCount}</span>\r\n        </div>\r\n        <div className=\"comment-container\">\r\n          <div className=\"comment-section\">\r\n            <h3>Comments:\r\n              <input\r\n                type=\"text\"\r\n                className=\"comment\"\r\n                placeholder=\"Add a comment\"\r\n                ref={commentInputRef}\r\n                onKeyDown={handleEnterKey}\r\n              />\r\n            </h3>\r\n            <ul style={{ textAlign:\"left\" }}>\r\n              {comments.map((comment, index) => (\r\n                <li key={index} >\r\n                  <span>{comment.username}: </span>\r\n                  <span>{comment.comment_text}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"recommendations-container\">\r\n        {recommendList.map((video) => (\r\n            <div className=\"video-item\" key={video.video_uuid} onClick={() => onVideoContainerClick(video.video_uuid)}>\r\n              {console.log('Thumbnail URL:', `http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`)}\r\n              <img className=\"thumbnail-image\" src={`http://localhost:5000/${video.thumbnail_url.replace(/\\\\/g, '/')}`} alt=\"\" />\r\n              <div className=\"video-title\">\r\n                {video.title}\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stream;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}